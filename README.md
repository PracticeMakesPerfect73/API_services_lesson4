# Космический Телеграм

Этот проект позволяет автоматически скачивать изображения из открытых космических источников, таких как NASA и SpaceX, 
и  затем публиковать их в Telegram-канале.

## Описание работы

Скрипты загружают фотографии из API NASA и SpaceX. Затем фотографии сохраняются в папке на вашем компьютере.
Отдельный скрипт публикует изображения в Telegram-канале с заданной периодичностью. Когда все фотографии отправлены, они перемешиваются и публикуются заново.

## Установка и запуск
Для установки проекта необходимо иметь установленный Python версии 3.11.

## Окружение 
Сначала следует склонировать репозиторий:

```
git clone https://github.com/PracticeMakesPerfect73/API_services_lesson4.git
cd API_services_lesson4
```
Далее создайте виртуальное окружение и активируйте его:
```
python -m venv venv  
source venv/bin/activate  # Для Linux и macOS  
venv\Scripts\activate  # Для Windows
```

### Зависимости

Используйте pip (или pip3, есть есть конфликт с Python2) для установки зависимостей:

```pip install -r requirements.txt```

В корневой папке проекта создайте файл .env с переменными окружения.

Необходимые переменные окружения:
- API_KEY - API-токен NASA. Для получения пройдите по ссылке [NASA API](https://api.nasa.gov/) и заполните
необходимые данные.
- TG_TOKEN - Токен вашего Telegram-бота. Для получения пройдите по ссылке [Telegram Token](https://way23.ru/%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0-%D0%B2-telegram.html)
и пройдите шаги инструкции.
- TG_CHAT_ID - ID telegram-чата куда будут отправляться фотографии.
- PUBLICATION_INTERVAL_HOURS - интервал времени для отправки фотографий (по умолчанию 4 часа).

## Использование

### 1. Скачивание изображений
Чтобы загрузить фото с NASA, запустите:
```
python fetch_nasa_epic.py
python fetch_nasa_apod.py
```
Чтобы загрузить фото SpaceX, запустите:
```
python fetch_spacex_images.py
```
### 2. Публикация фото в Telegram
Для отправки случайной фотографии:
```
python send_photo_TG.py
```
Для отправки конкретного фото:
```
python send_photo_TG.py путь_к_фото
```
### 3. Автоматическая публикация
Чтобы бот публиковал фото с заданным интервалом, запустите:
```
python post_scheduler.py --interval 6
```
Где --interval 6 означает, что фото будет отправляться каждые 6 часов. Если аргумент не указан, используется значение из .env или по умолчанию - 4 часа.

## Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков dvmn.org.
